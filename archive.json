{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2022-11-27T01:16:22.173195+00:00",
  "repo": "bemasc/draft-xu-risav",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 5,
      "id": "I_kwDOIGC7185TNPOf",
      "title": "What should we say about cases where the handshake fails?",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/5",
      "state": "CLOSED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "**DESC**: This question is about IKE failure in Section Control Plane.\r\n**OPEN QUESTION**: What should we say about cases where the handshake fails?  To be truly secure, all traffic from that AS would have to be dropped...",
      "createdAt": "2022-10-04T09:55:37Z",
      "updatedAt": "2022-10-06T02:15:34Z",
      "closedAt": "2022-10-06T02:15:34Z",
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "There may be a number of reasons that cause the handshake or the link fails. When one handshake fails, the ACS would know nothing SAs about the peer AS; vice versa. Arrived packets that should be processed with RISAV would be failed to locate available SAs. Then this packet should be processed like a common packet that not be protected with an IPsec AH/ESP header. So do the source and destination ASBR. When the handshake is complete and running after a while one ACS's link failed, the peer ACS would detect the link is failed with the keepalive packets and remove or deprecate the relative SAs. The keepalive packet is defined in {{RFC3948}} while it is not in NAT traversal. After a grace period, the traffic will be recovered. But the failure should be reported to the administrator with the operations protocols. This would decrease the effect on inter-AS traffic.",
          "createdAt": "2022-10-04T13:50:48Z",
          "updatedAt": "2022-10-04T13:50:48Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "My concern is principally related to downgrade attacks on RISAV.\r\n\r\nConsider an MITM attacker between the two ASes.  If this attacker simply drops all packets to the contact IPs, the attacker can prevent the two ASes from ever performing an IKE handshake.  In HTTPS, this would be similar to blocking port 443.  HTTPS simply \"fails hard\" in this case, to ensure that the attacker can only produce a DoS.  We could do the same, but I suspect AS operators would be concerned about the possibility of accidental outages, especially when the RISAV deployment is new.  However, if the ASes simply fall back to non-RISAV communication, then the attacker can disable RISAV.\r\n\r\nI think our best option is probably to add a boolean flag like `testing` to `RISAVAnnouncement`.  If this flag is true, it means that the operator does not guarantee the uptime of this ACS, so other ASes should fall back to non-RISAV.  Then each AS can decide whether its own RISAV implementation is stable enough to remove the fallback.\r\n\r\nI agree that failures should be reported to the administrator, even in testing mode, so that AS operators can tell whether RISAV is working correctly.",
          "createdAt": "2022-10-04T13:56:24Z",
          "updatedAt": "2022-10-04T13:56:24Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "MitM could be prevented by the PKI and hierarchical CA in current practice. As we have RPKI now, shall we assume that the PKI and hierarchical CA is also deployed? If so, the MitM would be prevented.\r\nUnfortunately, this could not relieve the attack path as a line topo. If the stub AS has only one path to the transit AS and deploys RISAV, the attack drops all the traffic to the contact IP making the RISAV never be enabled.",
          "createdAt": "2022-10-04T14:59:11Z",
          "updatedAt": "2022-10-04T14:59:11Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "> MitM could be prevented by the PKI and hierarchical CA in current practice.\r\n\r\nYes, I agree.\r\n\r\n> the attack drops all the traffic to the contact IP making the RISAV never be enabled.\r\n\r\nRight, and if this is allowed it mostly defeats the protections provided by the PKI and CA.  I think we should try to fix this vulnerability, while also making it easy for operators to experiment with RISAV without risking accidental outages",
          "createdAt": "2022-10-04T15:10:15Z",
          "updatedAt": "2022-10-04T15:10:15Z"
        }
      ]
    },
    {
      "number": 6,
      "id": "I_kwDOIGC7185TNPd3",
      "title": "Does IKEv2 have an authenticated permanent rejection option that would help here?",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/6",
      "state": "OPEN",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "question"
      ],
      "body": "**DESC**: This is about how to disable RISAV normally and orderly.\r\n**TODO**: Discuss changes to the contact IP, check if there are any race conditions between\r\nactivation and deactivation, IKEv2 handshakes in progress, SA expiration, etc.\r\n**OPEN QUESTION**: Does IKEv2 have an authenticated permanent rejection option that would help here?",
      "createdAt": "2022-10-04T09:56:19Z",
      "updatedAt": "2022-11-11T01:12:07Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "SA has its own expiration time. So the SA would expire automatically. I think it should have a keepalive mechanism for the IKE parties to keep in touch. If the already existing keepalive mechanism is not suitable for RISAV (the existing one is for NAT traversal), it should implement keepalive itself. However, a timeout interval may be also enough.\r\n\r\nThe IKEv2 has such an authenticated permanent rejection option that would help the IKE nodes to reject connections quickly. But, when an IKE node is down or unfortunately crashed, i.e. in an abnormal case, how it can send out such an option? And in a normal case, RISAV maybe not care about the disabling time. It may care more about the key-rollover time in my way.",
          "createdAt": "2022-10-06T11:51:36Z",
          "updatedAt": "2022-10-06T11:51:36Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "It looks like IKE authentication without creating a \"Child SA\" is possible using the CHILDLESS_IKEV2_SUPPORTED notification (RFC 6023).  However, RFC 6023 is EXPERIMENTAL, so this may not be widely implemented.\r\n\r\nIf both peers support this option, the server could reject a CREATE_CHILD_SA request using an error code.  Perhaps we could say that a TS_UNACCEPTABLE or NO_PROPOSAL_CHOSEN error means that the IKEv2 client should try again after 24 hours.",
          "createdAt": "2022-11-07T14:04:43Z",
          "updatedAt": "2022-11-08T09:26:19Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "That sounds great. We do require such options. NO_PROPOSAL_CHOSEN may be more clear as it says in Section 3.10.1 of RFC 7296. The following referred sections are all defined in RFC7296 (https://www.rfc-editor.org/rfc/rfc7296), and not repeated.\r\n\r\nBut I think we should distinguish normal case and abnormal case. In normal case, SA could be deleted with INFORMATIONAL Exchanges as defined in Section 1.4.1. While in abnormal case, i.e. one IKE party (an ACS in RISAV) is down, that couldn't be so much easy. This may not be accepted when disabling RISAV without removing its configurations, as it says in Section 2.4 that IPsec IKEv2 will retry multiple/undetermined times on one SA. So it may not be automatic to disable RISAV.",
          "createdAt": "2022-11-08T02:37:34Z",
          "updatedAt": "2022-11-08T02:37:34Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "Some other possibilities mentioned during the IPSECME discussion:\r\n* Using DELETE to immediately delete the initial child SA.\r\n* NO_ADDITIONAL_SAS (means \"no more child SAs on this IKE SA\")\r\n* Somehow deliberately failing the IKE_AUTH step (e.g., signing an invalid keyshare response) to prevent the creation of the initial child SA.",
          "createdAt": "2022-11-09T16:42:17Z",
          "updatedAt": "2022-11-09T16:42:17Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "It looks like we don't need to design such an option. It is enough to reuse these already existing SAs for disabling IPsec/IKE.\r\nWe may need to read [IKEv2 - RFC 7296](https://datatracker.ietf.org/doc/html/rfc7296) in depth.\r\n\r\nAnd except for enabling and disabling, we also need to consider the fast fail and fast reconnect in the control plane I think. That is because the `testing` field may be set to `true`. At that time, the ACS is not fully reliable. When ACS is down, the SA generation may also fail before ACS reboots. So how to roll back to ordinary operation is a question.\r\n\r\nI think we can design a `green channel` that will be used between two ACSes. In this channel, only the contact IP will not be checked with the RISAV header. That means the communication between the contact IP is always in the ordinary way when the `green channel` is working. But this seems to be infeasible in tunnel mode as the tunnel is built with the contact IP.\r\n",
          "createdAt": "2022-11-10T03:58:52Z",
          "updatedAt": "2022-11-10T03:58:52Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I think the `green channel` is a good idea, to avoid situations where RISAV has been turned on but cannot be turned off.  I don't think there's any compatibility problem with tunnel mode.  We can simply say that \"RISAV IKEv2 is not subject to RISAV\".",
          "createdAt": "2022-11-10T10:32:17Z",
          "updatedAt": "2022-11-10T10:32:17Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "OK, I will update it later.",
          "createdAt": "2022-11-11T01:12:07Z",
          "updatedAt": "2022-11-11T01:12:07Z"
        }
      ]
    },
    {
      "number": 7,
      "id": "I_kwDOIGC7185TNPmO",
      "title": "How do peers express a preference or requirement for transport or tunnel mode?",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/7",
      "state": "OPEN",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "question"
      ],
      "body": "**DESC**: This is proposed in Section Data Plane.\r\n**OPEN QUESTION**: How do peers express a preference or requirement for transport or tunnel mode?",
      "createdAt": "2022-10-04T09:56:42Z",
      "updatedAt": "2022-10-20T15:38:58Z",
      "closedAt": null,
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I believe IKE is quite flexible and probably offers this capability (via USE_TRANSPORT_MODE), but I'm not quite sure how it works.  We need some advice from an IKE expert.",
          "createdAt": "2022-10-04T13:58:08Z",
          "updatedAt": "2022-10-04T13:58:08Z"
        }
      ]
    },
    {
      "number": 8,
      "id": "I_kwDOIGC7185TNPt2",
      "title": "Do we need multiple contact IPs per AS, to support fragmented ASes?",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/8",
      "state": "CLOSED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [
        "bemasc"
      ],
      "labels": [],
      "body": "**DESC**: This is proposed together with #9 in Section Data Plane.\r\n**OPEN QUESTION**: Do we need multiple contact IPs per AS, to support fragmented ASes?",
      "createdAt": "2022-10-04T09:57:01Z",
      "updatedAt": "2022-10-19T02:17:57Z",
      "closedAt": "2022-10-19T02:17:57Z",
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Single contact IP would suffer from Single Point Failure while Multiple contact IPs may lead to complexity in implementation. On another point, multiple contact IPs could shrink the IKE negotiation time but the collaboration of the IKE parties and the division of the IKE parties that one IKE node should keep in touch with are also complex tasks. In the long run, multiple contact IPs should be an important agenda for RISAV.\r\nThe full deployment of RISAV requires one deployer should keep in touch with almost all deployers which are a number of ASes, but a paper published at IMC15: [Are We One Hop Away from a Better Internet?](https://conferences2.sigcomm.org/imc/2015/papers/p523.pdf) shows that the average AS path to access Internet content is about 3.5 hops. Thus I think the IKE connection size should not be too large. So the multiple contact IPs may not be the first thing we should think about now. And I think a hierarchical structure of RISAV may be more useful for large-scale deployment but this may also cause larger complexity.",
          "createdAt": "2022-10-06T12:18:02Z",
          "updatedAt": "2022-10-06T12:18:02Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "> Single contact IP would suffer from Single Point Failure\r\n\r\nI don't know that this is true.  I think the ACS can probably be implemented as a loosely-coupled anycast service.\r\n\r\nThe reason I think we might need multiple contact IPs is for ASes that have fragmented routing.  If a single AS is composed of several \"islands\" that have no route to each other, then each island would need its own contact IP.  However, I'm not familiar enough with BGP to understand if this is really allowed, or how common it is.",
          "createdAt": "2022-10-12T21:16:25Z",
          "updatedAt": "2022-10-12T21:16:25Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "As far as I know, this scenario (isolated routing area in one AS) is very rare. I recommend we could ignore this case at this time.",
          "createdAt": "2022-10-13T07:26:22Z",
          "updatedAt": "2022-10-13T07:26:22Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "OK, let's ignore that problem.  We can still support multiple contact IPs (i.e. multiple ACSes) within the current framework, so long as it is sufficient for a remote AS to contact any one of them.",
          "createdAt": "2022-10-13T13:27:06Z",
          "updatedAt": "2022-10-13T13:27:06Z"
        }
      ]
    },
    {
      "number": 9,
      "id": "I_kwDOIGC7185TNQMC",
      "title": "PROBLEM: Can we negotiate an extension to ESP that covers the IP header?  Or could we always send from the contact IP and encode the ASBR ID in the low bits of the SPI?",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/9",
      "state": "OPEN",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "question"
      ],
      "body": "**DESC**: This is proposed together with #8 in Section Data Plane.\r\n**PROBLEM**: ESP doesn't protect the source IP, so a packet could be replayed by changing the source IP.  Can we negotiate an extension to ESP that covers the IP header?  Or could we always send from the contact IP and encode the ASBR ID in the low bits of the SPI?",
      "createdAt": "2022-10-04T09:58:27Z",
      "updatedAt": "2022-11-08T16:09:48Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "We may need the help of ipsecme wg.\r\n\r\nI think the packet sent from the contact IP may not be a proper choice because the contact IP cannot take over the whole AS's traffic. ",
          "createdAt": "2022-10-06T12:55:29Z",
          "updatedAt": "2022-10-06T12:55:29Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I had originally thought we could do this by negotiating an extension that added the outer IP header to the \"Associated Data\" of the AEAD used for the ESP body.  However, this creates a nonce reuse problem, so it will have to work in a different way.\r\n\r\nI think the better approach will be to use an HKDF to convert the base key (negotiated by Diffie-Hellman in IKEv2) into a session key, using the source IP as input.  This ensures proper key separation between each sending ASBR, and also allows ESP decryption to proceed as usual (just with a different key, which can be derived statelessly).",
          "createdAt": "2022-11-08T16:09:48Z",
          "updatedAt": "2022-11-08T16:09:48Z"
        }
      ]
    },
    {
      "number": 11,
      "id": "I_kwDOIGC7185TOm2N",
      "title": "Clarify relationship between contact IP and ACS",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/11",
      "state": "CLOSED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "The text currently discusses both an \"AS Control Server\" and a \"contact IP\", which is the IP address of the ACS.  We should adjust the terminology to make this relationship clearer and avoid having multiple terms for the same thing.",
      "createdAt": "2022-10-04T14:03:44Z",
      "updatedAt": "2022-10-04T15:13:35Z",
      "closedAt": "2022-10-04T15:13:35Z",
      "comments": []
    },
    {
      "number": 20,
      "id": "I_kwDOIGC7185UYxOX",
      "title": "Version 02 Release Request",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/20",
      "state": "CLOSED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "As there are no differences in this draft I think, shall we release the latest version and submit it to [datatracker](https://datatracker.ietf.org/submit/)?\r\nI uploaded the draft manually before, but I don't know whether there is a more convenient way to submit this draft.",
      "createdAt": "2022-10-20T01:28:09Z",
      "updatedAt": "2022-10-20T07:05:58Z",
      "closedAt": "2022-10-20T07:05:58Z",
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "OK, I will release tomorrow if there are no more changes requested by then.",
          "createdAt": "2022-10-20T02:30:33Z",
          "updatedAt": "2022-10-20T02:30:33Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "OK, thanks~",
          "createdAt": "2022-10-20T07:05:55Z",
          "updatedAt": "2022-10-20T07:05:55Z"
        }
      ]
    },
    {
      "number": 22,
      "id": "I_kwDOIGC7185UiJRP",
      "title": "Some questions from ipsecme wg.",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/22",
      "state": "OPEN",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [
        "question"
      ],
      "body": "We have requested to join the IETF 115 meeting. The following questions are issued by Yoav Nir, the chair of ipsecme wg.\r\n1. While your draft makes use of IPsec, it\u2019s also using RPKI.  Perhaps before (or in addition to) presenting it at IPsecME, it should also be presented at SECDISPATCH.\r\n2. You are using multi-sender SAs. Perhaps re-use G-IKEv2 rather than inventing your own alternatives to the keying protocol and to AH.\r\n3. You are using AH.  AH is all but deprecated in IPsec.",
      "createdAt": "2022-10-21T12:04:40Z",
      "updatedAt": "2022-11-10T03:14:45Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "[minutes from ipsecme wg for IETF 115](https://datatracker.ietf.org/meeting/115/materials/minutes-115-ipsecme-202211091500-00)",
          "createdAt": "2022-11-10T03:14:45Z",
          "updatedAt": "2022-11-10T03:14:45Z"
        }
      ]
    },
    {
      "number": 23,
      "id": "I_kwDOIGC7185UlSyV",
      "title": "Shall we change the title of draft to \u201cRPKI-enabled Source Address Validation: An AS-by-AS IPSec Approach\u201d, seems a bit clearer",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/23",
      "state": "OPEN",
      "author": "LucasWang86",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2022-10-22T03:59:45Z",
      "updatedAt": "2022-10-22T03:59:45Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 24,
      "id": "I_kwDOIGC7185V2g9g",
      "title": "IDEA: Use the AH reserved field instead of RISAV-AH",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/24",
      "state": "OPEN",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Instead of allocating a new IP protocol number for RISAV-AH, another option would be change the value in the AH reserved field, which is 16 bits wide and is currently required to be all zeros.  This would allow us to use standard IPsec AH without risking ambiguity with other uses of AH.\r\n\r\nThis proposal would cost an extra 8 bytes of MTU compared to RISAV-AH, but if the working group is hostile to allocating a new IP protocol number, it could be a useful alternative.",
      "createdAt": "2022-11-08T14:54:58Z",
      "updatedAt": "2022-11-09T01:28:00Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "[standard AH header format](https://www.rfc-editor.org/rfc/rfc4302#section-2) and [`Reserved` field description](https://www.rfc-editor.org/rfc/rfc4302#section-2.3).\r\n\r\nYes, I agree. It may become another protocol as we request for RISAV-AH, which ipsecme wg is disinclined. Just let's try to persuade them to modify the `Reserved` field.\r\n\r\nBut it also should deal with the `seq number` field carefully. Or we may keep the `seq num` field as 0 in RISAV. These are, of cause, some little details.",
          "createdAt": "2022-11-09T01:27:59Z",
          "updatedAt": "2022-11-09T01:27:59Z"
        }
      ]
    },
    {
      "number": 25,
      "id": "I_kwDOIGC7185V2ysp",
      "title": "IDEA: MTU handling",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/25",
      "state": "OPEN",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "I think we can use \"authenticated rejection\" (#6) to solve the MTU problem:\r\n\r\n1. Each network chooses a \"minimum intended end-to-end MTU\" (`minMTU`), which must be at least 1280.\r\n2. Consider two ASes, **A** and **B**.  Suppose **A** is about to initiate an IKEv2 handshake to **B** (**A** is client, **B** is server).\r\n3. First, **A** checks its Path MTU to **B**.  If this is not known \"a priori\", **A** MUST measure it, and MAY do so using PMTUD on the path from `ACS_A` to `ACS_B`.  We call this value `MTU[A->B]`.\r\n4. If `MTU[A->B] - 24 >= minMTU[A]`, **A** can offer RISAV to B in transport mode.  If `MTU[A->B] - 73 >= minMTU[A]`, it can also offer tunnel mode.\r\n5. When **B** receives an IKEv2 CHILD_SA_INIT message, it performs the same check from its perspective, using `MTU[B->A]`.  It accepts only SAs that are compatible with `minMTU[B]`, and rejects the others.  If none are allowable, they are all rejected.\r\n6. The inter-AS MTU value is sent to all ASBRs as part of the SA, and used as the initial PMTU estimate.\r\n7. If an ASBR receives an ICMP Packet Too Big response whose echoed (i.e. inner) header matches the SA, it adjusts (i.e. reduces) its local MTU estimate.\r\n8. If an ASBR's local MTU falls below `minMTU`, it should inform the ACS.  The ACS can then reduce its estimate of `MTU[X->Y]` and use IKEv2 to [terminate this SA](https://www.rfc-editor.org/rfc/rfc7296#section-1.4.1) if that value is too small.\r\n9. (OPTIONAL?) The ASBR applies [TCP MSS clamping](https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.cookbook.mtu-mss.html) based on the current estimate inner MTU.\r\n\r\nIn transport mode, ICMP Packet Too Big responses are forwarded through the ASBR, stripping the echoed RISAV-AH header.  This allows PMTUD to work as usual for the endpoints.\r\n\r\nIn tunnel mode, each ASBR maintains a PMTU estimate for each SA, which is initialized to the `MTU[X->Y]` value used during the handshake.  Packets exceeding this size are dropped and produce a Packet Too Big response from the ASBR.  If the ASBR receives a Packet Too Big response for its own IPsec packets, it reduces its local MTU estimate for this SA.  (This can happen if the initial MTU estimate is wrong for this path, or the path MTU changes.)  ASBRs MAY also run their own PMTUD for their SAs.\r\n\r\nThis arrangement ensures that AS pairs with a consistent inter-AS MTU never reduce the end-to-end MTU below the value that is intended by either AS.  If the MTU is variable or heterogeneous, this arrangement ensures that PMTUD continues to work correctly for endpoints.  If the MTU on any path falls below the required minimum, RISAV will be disabled within ~1 second.  The addition of MSS clamping ensures that non-PMTUD-capable TCP clients don't attempt to use large packets that will not work.\r\n\r\n-----\r\n\r\nMy biggest concern about this approach is that it enables some downgrade attacks:\r\n\r\nA. A transit provider could simply reduce the actual MTU to 1280 in order to cause RISAV to be disabled automatically.\r\nB. An off-path attacker could send a Packet Too Big response that contains a packet from the other AS.\r\n\r\nAttack A is probably acceptable for now (i.e. out of scope).  Attack B is more concerning, and I'm not sure how to mitigate it.",
      "createdAt": "2022-11-08T15:30:56Z",
      "updatedAt": "2022-11-11T09:32:50Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Sorry, but the [RFC 7383](https://datatracker.ietf.org/doc/html/rfc7383) has discussed this fragmentation problem in IKEv2. This PMTUD should start after IKE_SA_INIT as it says in [Section 2.5.2](https://datatracker.ietf.org/doc/html/rfc7383#section-2.5.2), not CHILD_SA_INIT which I didn't find in [IKEv2 protocol | RFC 7296](https://www.rfc-editor.org/rfc/rfc7296).\r\n\r\nIt says in [RFC 7383](https://datatracker.ietf.org/doc/html/rfc7383) that in most cases, only the IKE_AUTH phase needs the PMTU probe. And shall we distinguish IPv4 and IPv6 for the MTU? The limitation of 1280 B is the minimum MTU for IPv6. For IPv4, the minMTU is 576 B described in [Section 2.5.1 | RFC 7383](https://datatracker.ietf.org/doc/html/rfc7383#section-2.5.1).",
          "createdAt": "2022-11-09T03:34:34Z",
          "updatedAt": "2022-11-09T03:34:34Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "I also find there is an active draft for [IKEv2 MTU dectection](https://datatracker.ietf.org/doc/draft-liu-ipsecme-ikev2-mtu-dect/).\r\n\r\nWell in the data plane, we don't modify the AH/ESP header if we replace RISAV-AH with the standard AH (#24), so we may use the PMTUD directly or the traditional configurations for IPsec. In other words, I think RISAV is still a standard IPsec in the data plane.\r\n1. In transport mode, if we still use the original AH and AH's ICV field to carry the packet tag, no more fields are added.\r\n2. In tunnel mode, the ESP tunnel format is also the same as the original ESP.\r\n\r\nAnd here is what Cisco recommends for the MTU configurations of GRE + IPsec in IPv4 fragmentation, which are some best current practices I think. [pmtud-ipfrag](https://www.cisco.com/c/en/us/support/docs/ip/generic-routing-encapsulation-gre/25885-pmtud-ipfrag.html).",
          "createdAt": "2022-11-09T06:29:16Z",
          "updatedAt": "2022-11-09T06:29:16Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "> And shall we distinguish IPv4 and IPv6 for the MTU?\r\n\r\nYes, I was just using IPv6 numbers for simplicity.\r\n\r\n> [RFC 7383](https://datatracker.ietf.org/doc/html/rfc7383) has discussed this fragmentation problem in IKEv2\r\n\r\nInteresting, thanks.  We should definitely consider RFC 7383 Section 2.5.2 when writing about PMTU discovery.  However, I think the requirements here are different, because I am proposing to use the resulting MTU estimate on the data plane.  For example, RFC 7383 recommends using very approximate PMTUD, because only a small amount of data is transferred, but in this case the discovered MTU will apply to a large amount of data.\r\n\r\n> I think RISAV is still a standard IPsec in the data plane.\r\n\r\nYes, this MTU logic doesn't alter the ordinary operation of the data plane (although the proposed ICMP rewriting for AH is novel).\r\n\r\n> And here is what Cisco recommends for the MTU\r\n\r\nThanks, that reminds me about TCP MSS.  I've edited the proposal to include MSS clamping.",
          "createdAt": "2022-11-09T09:58:10Z",
          "updatedAt": "2022-11-09T09:58:10Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I mentioned earlier that Packet Too Big (PTB) ICMP messages are easily forged by an off-path attacker.  During normal PMTUD, PTB forgery is prevented by the entropy of the original packet, which must be echoed in the response.  If the PTB message doesn't match a packet that was recently sent, it is ignored.  The ASBR cannot apply this defense, because it has no memory of the packet that was sent (which may not have even passed through this ASBR, if ECMP clustering or multicore implementation is in use).\r\n\r\nMaybe a better solution is to say: if an ASBR receives a PTB response indicating a PMTU that is less than the current MTU estimate, it performs its own explicit PMTUD.  This is not vulnerable to off-path attacks.  However, it is somewhat unusual: we want the \"inter-AS\" PMTU, without regard to the packet handling inside the target AS.  Therefore, the measurement proceeds as follows:\r\n\r\n1. The sending ASBR runs a traceroute to the target IP listed in the PTB response.  This traceroute starts at TTL=1 and stops once it receives a response from an IP address inside the target AS.  This is presumed to be the receiving ASBR.\r\n2. The sending ASBR performs PMTUD to this receiving ASBR\r\n\r\nThis PMTU value is the one used to update the current PMTU estimate, etc.",
          "createdAt": "2022-11-10T15:08:01Z",
          "updatedAt": "2022-11-10T21:26:08Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "When I send a traceroute packet, I may get a private IP address. I try to traceroute google.com with a [online mtr](https://traceroute-online.com/mtr/), and the result shows that the first 4 response IPs are all private IPs. Of course, private IP must be used inside the local network. I don't know if it is a particular case in CERNET or just all the same in most ISPs' networks. Maybe I should also compile a mtr in my local machine :joy:.\r\n\r\n![image](https://user-images.githubusercontent.com/42705918/201243142-e72a9512-6b67-4d95-8d12-992f3e47d052.png)\r\n\r\n",
          "createdAt": "2022-11-11T02:23:20Z",
          "updatedAt": "2022-11-11T02:23:20Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "In this case, the sending ASBR is using a public source IP address, so the entire traceroute will return public IP addresses.",
          "createdAt": "2022-11-11T09:32:50Z",
          "updatedAt": "2022-11-11T09:32:50Z"
        }
      ]
    },
    {
      "number": 26,
      "id": "I_kwDOIGC7185WGv55",
      "title": "Allow v6-only deployments",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/26",
      "state": "OPEN",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Right now, we say that ASes MUST public a contact IP for every supported address family.  I think it's probably better to say that RISAV only applies to the address families for which there is a contact IP.\r\n\r\nThis would allow an AS to activate RISAV only for IPv6 (or only for IPv4), in case this is more convenient given their network equipment.",
      "createdAt": "2022-11-10T21:47:27Z",
      "updatedAt": "2022-11-24T08:38:07Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "That's good. We need that. It should allow RISAV to work only for IPv4 or IPv6 networks.",
          "createdAt": "2022-11-24T08:38:07Z",
          "updatedAt": "2022-11-24T08:38:07Z"
        }
      ]
    },
    {
      "number": 27,
      "id": "I_kwDOIGC7185WbbjF",
      "title": "Add section on RFC 8200 compliance",
      "url": "https://github.com/bemasc/draft-xu-risav/issues/27",
      "state": "OPEN",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "We should add a section discussing RISAV's compliance with RFC 8200.  Specifically, [Section 4](https://www.rfc-editor.org/rfc/rfc8200#section-4) says:\r\n\r\n>   Extension headers (except for the Hop-by-Hop Options header) are not\r\n>   processed, inserted, or deleted by any node along a packet's delivery\r\n>   path, until the packet reaches the node (or each of the set of nodes,\r\n>   in the case of multicast) identified in the Destination Address field\r\n>   of the IPv6 header.\r\n\r\nThis looks like it's not compatible with Transport Mode.  I see a few options:\r\n\r\n1. Update RFC 8200 (e.g. to say extension headers can be inserted by one node if they are later deleted)\r\n2. Remove Transport Mode\r\n3. Argue that Transport Mode actually is somehow allowed under RFC 8200.  (Notably, this paragraph is not normative, so it could be taken as merely a description of common practice, rather than a strict requirement.)",
      "createdAt": "2022-11-15T16:09:44Z",
      "updatedAt": "2022-11-24T09:13:29Z",
      "closedAt": null,
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Yes, we should guarantee RISAV compliance with RFC 8200.\r\n\r\nIt seems not so easy to update a mature protocol. The modification to IPsec AH is beset with difficulties in ipsecme working group. I think it is also the same at the 6man working group. :joy: \r\n\r\nThe insertion action at an extra node may bring other problems we don't see as this violated to RFC 8200 and the communities are opposed to it. So it may be a compromised choice to remove transport mode.\r\n\r\nThere is also a problem with the Tunnel Mode. The tunnel we set now is established between ASBR and ACS in different ASes. So the problem is whether it is allowed to process the IPsec header at the ASBRs all the time without the consent of ACS. \r\n\r\nFor example, we have `AS A` and `AS B` and with `ACS a`, `ACS b`, `ASBR Ra`, and `ASBR Rb` inside separately. Now a packet is sent from `AS A` to `AS B`. It will use the tunnel between `Ra` and `ACS b` while the `Rb` will represent `ACS b` to process the IPsec header in the packet and sends it to the destination host in `AS B`.\r\n```\r\n+---------+                +---------+\r\n|   AS A  |                |  AS  B  |\r\n|        #########   #########       |\r\n| ACS a  #ASBR Ra#---#ASBR Rb# ACS b |\r\n|        #########   #########       |\r\n+---------+                +---------+\r\n```\r\nIf so, nothing to disturb. Otherwise, we also should rethink the tunnel mode. :joy: ",
          "createdAt": "2022-11-24T09:13:28Z",
          "updatedAt": "2022-11-24T09:13:28Z"
        }
      ]
    }
  ],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOIGC7184_34jK",
      "title": "Alternative abstract",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/1",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "This version of the abstract presents the document as a protocol, not an architecture.  While the current draft is not a fully detailed protocol, I think we should try to move in that direction, even if we don't know all the details yet.",
      "createdAt": "2022-09-29T16:54:30Z",
      "updatedAt": "2022-09-30T02:01:11Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "2b67f62ed9c1a48beb0b42129b860b96dacf4bcf",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-abstract",
      "headRefOid": "60b3e0132c0dffbd4a53fb84a4bdd117ddbd0c13",
      "closedAt": "2022-09-30T02:01:11Z",
      "mergedAt": "2022-09-30T02:01:11Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "0cfe036e33531a4a961b6c40ef8c10f4b9060a96"
      },
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks, Ben. It looks great!",
          "createdAt": "2022-09-30T01:52:08Z",
          "updatedAt": "2022-09-30T01:52:08Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDOIGC7184_5s2_",
      "title": "update: intro and overview",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/2",
      "state": "CLOSED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "1. RFC added to section introduction & normal refs\r\n2. Section overview subtle modification.\r\n[It's my fault. I just press down Ctrl+Enter for a new line, but it is submitted. All right, just a try. :)]",
      "createdAt": "2022-09-30T02:40:11Z",
      "updatedAt": "2022-09-30T06:06:19Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "0cfe036e33531a4a961b6c40ef8c10f4b9060a96",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "BasilGuo-overview",
      "headRefOid": "31e734c44e2d6fa32bae8bc93285b2620d60ccb7",
      "closedAt": "2022-09-30T06:06:19Z",
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    },
    {
      "number": 3,
      "id": "PR_kwDOIGC7184_7GdK",
      "title": "modify section overview",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/3",
      "state": "MERGED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This commits modifies the section overview.\r\n1. introduce static-static ECDH\r\n2. RISAV process",
      "createdAt": "2022-09-30T09:33:59Z",
      "updatedAt": "2022-10-01T01:31:56Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "0cfe036e33531a4a961b6c40ef8c10f4b9060a96",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "BasilGuo-overview",
      "headRefOid": "fee7423e18f365f98746f46ba26145318cf03f41",
      "closedAt": "2022-10-01T01:10:50Z",
      "mergedAt": "2022-10-01T01:10:50Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "ca5afa535baf4efb78da46a160be012a918041a6"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185DMAFS",
          "commit": {
            "abbreviatedOid": "fee7423"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2022-09-30T18:37:54Z",
          "updatedAt": "2022-09-30T18:41:18Z",
          "comments": [
            {
              "originalPosition": 54,
              "body": "\r\nI think we can simplify the requirement on the number of contact IPs.\r\n\r\n```suggestion\r\nBefore deploying RISAV, each AS sets a contact IP representative. When negotiating or consulting with one AS, the peer MUST first communicate with this contact IP. The AS MUST publish exactly one contact IP for each supported address family (i.e. IPv4 and/or IPv6).\r\n```",
              "createdAt": "2022-09-30T18:37:54Z",
              "updatedAt": "2022-09-30T18:41:18Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DM4Ns",
          "commit": {
            "abbreviatedOid": "fee7423"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-01T01:10:04Z",
          "updatedAt": "2022-10-01T01:10:04Z",
          "comments": [
            {
              "originalPosition": 54,
              "body": "Yes, there may be some engineering considerations that I miss, like hot standby.",
              "createdAt": "2022-10-01T01:10:04Z",
              "updatedAt": "2022-10-01T01:10:04Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DM44R",
          "commit": {
            "abbreviatedOid": "fee7423"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-01T01:31:56Z",
          "updatedAt": "2022-10-01T01:31:56Z",
          "comments": [
            {
              "originalPosition": 54,
              "body": "So sorry, it's my fault. I may wrongly commit & merge as not familiar with GitHub. I would add them when submitting the next PR as this PR has been closed.",
              "createdAt": "2022-10-01T01:31:56Z",
              "updatedAt": "2022-10-01T01:31:56Z"
            }
          ]
        }
      ]
    },
    {
      "number": 4,
      "id": "PR_kwDOIGC7185AFfak",
      "title": "Reorganize draft contents",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/4",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Major changes:\r\n* Move time-based rotation and static-static ECDH into \"possible extensions\"\r\n* Define an optional tunnel mode\r\n* Define the RPKI object format\r\n* Expand security and operational considerations\r\n* Various other text relocations for organizational purposes",
      "createdAt": "2022-10-03T20:40:30Z",
      "updatedAt": "2022-10-04T07:05:10Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "ca5afa535baf4efb78da46a160be012a918041a6",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-reorg",
      "headRefOid": "76ee8b7bcf68d33fd845ce89d733b80e0d6d046e",
      "closedAt": "2022-10-04T07:05:10Z",
      "mergedAt": "2022-10-04T07:05:10Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "bc1d21fa9a78320d61db0f8d9c4b9620dd0dab04"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185DUSTe",
          "commit": {
            "abbreviatedOid": "76ee8b7"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "I may wonder shall we still use an ACS together with the contact IP, as the contact IP is actually the ACS's  IP in the initial design. Their functions are overlapped. So I recommend we should explain what are contact IP and ACS respectively.",
          "createdAt": "2022-10-04T07:03:40Z",
          "updatedAt": "2022-10-04T07:03:40Z",
          "comments": []
        }
      ]
    },
    {
      "number": 10,
      "id": "PR_kwDOIGC7185AHuXI",
      "title": "update: Open Question & TODO",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/10",
      "state": "MERGED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "1. section Terminology\r\n2. OQ: IKE handshake fails\r\n3. TODO: changes when disabling RISAV\r\n4. TODO: NAT scenario.",
      "createdAt": "2022-10-04T10:02:09Z",
      "updatedAt": "2022-10-04T15:04:05Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "bc1d21fa9a78320d61db0f8d9c4b9620dd0dab04",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "BasilGuo-todo-problem",
      "headRefOid": "43e3cb1353ecfbf4a728290a63c808c4e9889dcc",
      "closedAt": "2022-10-04T15:04:04Z",
      "mergedAt": "2022-10-04T15:04:04Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "ad2046cf7d7069bf3a9914e0c7fbbbc3e6bfa2b1"
      },
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "@bemasc @Netinplug @wangnetsg \r\nI have created some issues #5  #6 #7 #8 #9 with these open questions.\r\nWe could close them with PR when we have a consensus.",
          "createdAt": "2022-10-04T10:07:19Z",
          "updatedAt": "2022-10-04T13:18:48Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185DWZVM",
          "commit": {
            "abbreviatedOid": "4beea1f"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T13:35:16Z",
          "updatedAt": "2022-10-04T13:40:58Z",
          "comments": [
            {
              "originalPosition": 34,
              "body": "I think it would be better to move this to #5 so we can discuss the possibilities.  Then if we agree on a solution we can remove the \"open question\" here.\r\n\r\nMy main concern here is that an attacker could prevent the IKE handshake from ever succeeding, and it might be hard to tell the difference between an attack and an accident.",
              "createdAt": "2022-10-04T13:35:16Z",
              "updatedAt": "2022-10-04T13:40:58Z"
            },
            {
              "originalPosition": 42,
              "body": "The IKE keepalive mechanism seems to be only for NAT traversal mode with UDP encapsulation, so I'm not sure that it applies here.\r\n\r\nMy real concern is about more complicated edge cases, such as when a network disables RISAV in the middle of a handshake, or when one network activates RISAV for the first time at the same time that another network is deactivating it.  If the networks disagree about whether RISAV is supposed to work, this could result in an outage (especially if we are \"strict\" to prevent any attacker from disabling RISAV).\r\n\r\nRather than trying to solve this here, I think we should open an issue or wait for input from the working group.",
              "createdAt": "2022-10-04T13:40:03Z",
              "updatedAt": "2022-10-04T13:40:58Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DXAL-",
          "commit": {
            "abbreviatedOid": "4beea1f"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T14:43:52Z",
          "updatedAt": "2022-10-04T14:43:52Z",
          "comments": [
            {
              "originalPosition": 34,
              "body": "Thanks for moving this text to #5.  Please also remove it here.",
              "createdAt": "2022-10-04T14:43:52Z",
              "updatedAt": "2022-10-04T14:43:52Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DXENk",
          "commit": {
            "abbreviatedOid": "4beea1f"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T14:53:05Z",
          "updatedAt": "2022-10-04T14:53:05Z",
          "comments": [
            {
              "originalPosition": 34,
              "body": "I have removed that yet. See  https://github.com/bemasc/draft-xu-risav/pull/10/commits/43e3cb1353ecfbf4a728290a63c808c4e9889dcc.",
              "createdAt": "2022-10-04T14:53:05Z",
              "updatedAt": "2022-10-04T14:55:31Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DXEoO",
          "commit": {
            "abbreviatedOid": "4beea1f"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-04T14:54:00Z",
          "updatedAt": "2022-10-04T14:54:01Z",
          "comments": [
            {
              "originalPosition": 34,
              "body": "Thanks",
              "createdAt": "2022-10-04T14:54:01Z",
              "updatedAt": "2022-10-04T14:54:01Z"
            }
          ]
        }
      ]
    },
    {
      "number": 12,
      "id": "PR_kwDOIGC7185AJEUc",
      "title": "Rename \"control server\" to \"contact server\"",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/12",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Fixes #11",
      "createdAt": "2022-10-04T14:38:13Z",
      "updatedAt": "2022-10-04T15:23:04Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "ad2046cf7d7069bf3a9914e0c7fbbbc3e6bfa2b1",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-acs",
      "headRefOid": "dbed24b5d1954ba98d4832a7614e7abd9f4cb1ac",
      "closedAt": "2022-10-04T15:13:34Z",
      "mergedAt": "2022-10-04T15:13:34Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "062dd54931c725f008e25d7b942eddac13b52b3a"
      },
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "It looks like this was merged before the conflict could be corrected.",
          "createdAt": "2022-10-04T15:17:44Z",
          "updatedAt": "2022-10-04T15:17:44Z"
        },
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I've reverted this (#13) and committed the change directly to `main` to avoid further conflicts.",
          "createdAt": "2022-10-04T15:21:15Z",
          "updatedAt": "2022-10-04T15:21:15Z"
        },
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Thanks : )\r\n\r\n",
          "createdAt": "2022-10-04T15:23:03Z",
          "updatedAt": "2022-10-04T15:23:03Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185DXNIN",
          "commit": {
            "abbreviatedOid": "dbed24b"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "There are some conflicts with PR #10, I have removed the description in #10 and reserved #12.",
          "createdAt": "2022-10-04T15:13:09Z",
          "updatedAt": "2022-10-04T15:13:09Z",
          "comments": []
        }
      ]
    },
    {
      "number": 13,
      "id": "PR_kwDOIGC7185AJRMN",
      "title": "Revert \"Rename \"control server\" to \"contact server\"\"",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/13",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2022-10-04T15:18:04Z",
      "updatedAt": "2022-10-04T15:18:23Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "062dd54931c725f008e25d7b942eddac13b52b3a",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "revert-12-bemasc-acs",
      "headRefOid": "a0a4b57df8f020297abf6b3bf3a81fa13da6e8ee",
      "closedAt": "2022-10-04T15:18:15Z",
      "mergedAt": "2022-10-04T15:18:15Z",
      "mergedBy": "bemasc",
      "mergeCommit": {
        "oid": "e9538db80fcb735282f0d527a589b6a1a2128d99"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 14,
      "id": "PR_kwDOIGC7185ALLDK",
      "title": "Add a \"testing\" flag and discuss downgrade resistance",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/14",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Fixes #5",
      "createdAt": "2022-10-05T00:56:08Z",
      "updatedAt": "2022-10-06T02:15:34Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "aae7e07fce9e86c3f64393ab1bd901ba40926136",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-testing",
      "headRefOid": "6b916cd2ca97feac5278529a24f7d00bffea6e92",
      "closedAt": "2022-10-06T02:15:34Z",
      "mergedAt": "2022-10-06T02:15:34Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "e69c6b3f186d0ff6c27ab36d317c4cdabec28dfb"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185Db1_a",
          "commit": {
            "abbreviatedOid": "6b916cd"
          },
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-05T12:49:39Z",
          "updatedAt": "2022-10-05T12:49:39Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "As I have known, the RFC 4301-4303 say both IPsec AH and ESP have a sequence number field while the AH maybe not check this field and the ESP must check this field. It's up to the IPsec receiver. Shall we require that the ASBR implemented RISAV must check this sequence number field no matter whether it is AH or ESP?",
              "createdAt": "2022-10-05T12:49:39Z",
              "updatedAt": "2022-10-05T12:49:39Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOIGC7185DenGL",
          "commit": {
            "abbreviatedOid": "6b916cd"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2022-10-05T22:02:45Z",
          "updatedAt": "2022-10-05T22:02:45Z",
          "comments": [
            {
              "originalPosition": 33,
              "body": "The problem is that we are in \"multi-sender\" mode, sharing a single SA across many ASBRs.  Per [RFC 4302 Section 3.4.3](https://datatracker.ietf.org/doc/html/rfc4302#section-3.4.3), this makes the sequence number field unusable:\r\n\r\n>    However, this standard specifies no mechanisms for providing anti-\r\n>    replay for a multi-sender SA (unicast or multicast).  In the absence\r\n>    of negotiation (or manual configuration) of an anti-replay mechanism\r\n>    for such an SA, it is recommended that sender and receiver checking\r\n>    of the Sequence Number for the SA be disabled\r\n\r\nThis is because the different senders will have different sequence numbers, but the receiver has no way to distinguish the different senders.  This is why I've removed the sequence number entirely from the RISAV-AH header.\r\n\r\nIn Tunnel Mode, the different ASBRs are instructed to use distinct source IPs for RISAV.  This allows the receiver to maintain separate sequence number tracking for each sender, so sequence numbers work correctly and can be used for anti-replay.",
              "createdAt": "2022-10-05T22:02:45Z",
              "updatedAt": "2022-10-05T22:02:45Z"
            }
          ]
        }
      ]
    },
    {
      "number": 15,
      "id": "PR_kwDOIGC7185AiCt3",
      "title": "v01: format justification",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/15",
      "state": "MERGED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "update as the author-tools tips including\r\n1. non-used normal ref,\r\n2. stream type using IETF,\r\n3. and downgrade ref in section Control Plane.\r\n\r\nThis will be submitted as version 01.",
      "createdAt": "2022-10-11T01:54:42Z",
      "updatedAt": "2022-10-11T01:56:15Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "e69c6b3f186d0ff6c27ab36d317c4cdabec28dfb",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "BasilGuo-v01",
      "headRefOid": "5f0af55fff9340c27b69a97d60a99784ae0889bb",
      "closedAt": "2022-10-11T01:56:15Z",
      "mergedAt": "2022-10-11T01:56:14Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "8c01734a31eebf434de24c45bdaab1a2b549a036"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 16,
      "id": "PR_kwDOIGC7185Ar0Bn",
      "title": "Editorial adjustments",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/16",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "This change adjusts the presentation and explanation of the content to make it easier to read and understand. Some text has been made shorter for simplicity, and additional explanation has been added where necessary.",
      "createdAt": "2022-10-12T21:10:29Z",
      "updatedAt": "2022-10-14T23:47:36Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "8c01734a31eebf434de24c45bdaab1a2b549a036",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-cleanup",
      "headRefOid": "3ace9a19a1ddea5e8254320ce2998c5eba40315a",
      "closedAt": "2022-10-14T23:47:36Z",
      "mergedAt": "2022-10-14T23:47:36Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "cf76e016117c15429794ad676d3d02e39e7cedbe"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 17,
      "id": "PR_kwDOIGC7185BCuqg",
      "title": "Remove question about multiple contact IPs",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/17",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "We have consensus that this is not necessary at this time.\r\n\r\nFixes #8",
      "createdAt": "2022-10-18T19:17:45Z",
      "updatedAt": "2022-10-19T02:17:56Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "cf76e016117c15429794ad676d3d02e39e7cedbe",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-fix-8",
      "headRefOid": "2342099c759e92f69d2d1e890a75ec874c06e34f",
      "closedAt": "2022-10-19T02:17:56Z",
      "mergedAt": "2022-10-19T02:17:56Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "37010fe5d5d49a2c37f2c64b439c01939f9f2400"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 18,
      "id": "PR_kwDOIGC7185BETt5",
      "title": "remove: the Time-based key rotation session.",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/18",
      "state": "MERGED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "As we have all agreed with keeping RISAV simple, the time-based key is not needed.",
      "createdAt": "2022-10-19T02:55:34Z",
      "updatedAt": "2022-10-20T01:19:20Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "37010fe5d5d49a2c37f2c64b439c01939f9f2400",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "BasilGuo-rm-timekey",
      "headRefOid": "e8de607e643ff390af8deb4311eed6cc59321c9a",
      "closedAt": "2022-10-20T01:19:20Z",
      "mergedAt": "2022-10-20T01:19:20Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "f252f05746ae7081fee1093bb8ed66f6ec6cbd0c"
      },
      "comments": [
        {
          "author": "BasilGuo",
          "authorAssociation": "COLLABORATOR",
          "body": "Oh, sorry, I may misunderstand. It's my fault. I'd like to remain this section so I'll revert it next.",
          "createdAt": "2022-10-20T01:19:12Z",
          "updatedAt": "2022-10-20T01:19:12Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOIGC7185EZk2J",
          "commit": {
            "abbreviatedOid": "e8de607"
          },
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "I have no objection to removing this section.\r\n\r\nTo be clear: I don't think it's necessary to remove this section.  This is an interesting idea, and this section only notes it as a \"possible extension\", so I don't think it really adds complexity to the specification.  However, if you would rather remove this section to keep this document shorter, that also seems fine to me.",
          "createdAt": "2022-10-19T13:22:28Z",
          "updatedAt": "2022-10-19T13:22:28Z",
          "comments": []
        }
      ]
    },
    {
      "number": 19,
      "id": "PR_kwDOIGC7185BJoQG",
      "title": "Revert \"remove: the Time-based key rotation session.\"",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/19",
      "state": "MERGED",
      "author": "BasilGuo",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Reverts bemasc/draft-xu-risav#18",
      "createdAt": "2022-10-20T01:20:07Z",
      "updatedAt": "2022-10-20T01:21:29Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "f252f05746ae7081fee1093bb8ed66f6ec6cbd0c",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "revert-18-BasilGuo-rm-timekey",
      "headRefOid": "e92833a7d570b2c02f1b6df2b4d22d032cfa4ac3",
      "closedAt": "2022-10-20T01:21:29Z",
      "mergedAt": "2022-10-20T01:21:29Z",
      "mergedBy": "BasilGuo",
      "mergeCommit": {
        "oid": "7de73d3796d0f3536383308c92ebc5dca8323353"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 21,
      "id": "PR_kwDOIGC7185BMtge",
      "title": "[FYI] Fix typos",
      "url": "https://github.com/bemasc/draft-xu-risav/pull/21",
      "state": "MERGED",
      "author": "bemasc",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2022-10-20T13:57:11Z",
      "updatedAt": "2022-10-20T13:58:03Z",
      "baseRepository": "bemasc/draft-xu-risav",
      "baseRefName": "main",
      "baseRefOid": "7de73d3796d0f3536383308c92ebc5dca8323353",
      "headRepository": "bemasc/draft-xu-risav",
      "headRefName": "bemasc-typos",
      "headRefOid": "ef091cfe8ce9f35a63c1dca84682900ec55d7319",
      "closedAt": "2022-10-20T13:57:57Z",
      "mergedAt": "2022-10-20T13:57:57Z",
      "mergedBy": "bemasc",
      "mergeCommit": {
        "oid": "159dc18a591fbf72035aa2b0e05a906f3ffcf49d"
      },
      "comments": [
        {
          "author": "bemasc",
          "authorAssociation": "OWNER",
          "body": "I'm merging this without review because it is a simple typo correction and we have agreed to publish today.",
          "createdAt": "2022-10-20T13:57:43Z",
          "updatedAt": "2022-10-20T13:57:43Z"
        }
      ],
      "reviews": []
    }
  ]
}